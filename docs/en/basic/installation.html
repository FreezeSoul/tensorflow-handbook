

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation and Environment Configuration &mdash; 简单粗暴 TensorFlow 2 0.4 beta 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/js/tw_cn.js"></script>
        <script type="text/javascript" src="../../_static/js/pangu.min.js"></script>
        <script type="text/javascript" src="../../_static/js/custom_20200921.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="TensorFlow Basic" href="basic.html" />
    <link rel="prev" title="TensorFlow Overview" href="../introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> 简单粗暴 TensorFlow 2
          

          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/foreword.html">推荐序</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/preface.html">前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/introduction.html">TensorFlow概述</a></li>
</ul>
<p class="caption"><span class="caption-text">基础</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/basic/installation.html">TensorFlow安装与环境配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/basic/basic.html">TensorFlow基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/basic/models.html">TensorFlow 模型建立与训练</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/basic/tools.html">TensorFlow常用模块</a></li>
</ul>
<p class="caption"><span class="caption-text">部署</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/deployment/export.html">TensorFlow模型导出</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/deployment/serving.html">TensorFlow Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/deployment/lite.html">TensorFlow Lite（Jinpeng）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/deployment/javascript.html">TensorFlow in JavaScript（Huan）</a></li>
</ul>
<p class="caption"><span class="caption-text">大规模训练与加速</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/distributed.html">TensorFlow分布式训练</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/tpu.html">使用TPU训练TensorFlow模型（Huan）</a></li>
</ul>
<p class="caption"><span class="caption-text">扩展</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/tfhub.html">TensorFlow Hub 模型复用（Jinpeng）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/tfds.html">TensorFlow Datasets 数据集载入</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/swift.html">Swift for TensorFlow (S4TF) (Huan）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/quantum.html">TensorFlow Quantum: 混合量子-经典机器学习 *</a></li>
</ul>
<p class="caption"><span class="caption-text">附录</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/rl.html">强化学习简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/docker.html">使用Docker部署TensorFlow环境</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/cloud.html">在云端使用TensorFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/jupyterlab.html">部署自己的交互式Python开发环境JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/recommended_books.html">参考资料与推荐阅读</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hans/appendix/terms.html">术语中英对照表</a></li>
</ul>
<p class="caption"><span class="caption-text">目錄</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/preface.html">前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/introduction.html">TensorFlow概述</a></li>
</ul>
<p class="caption"><span class="caption-text">基礎</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/basic/installation.html">TensorFlow 安裝與環境配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/basic/basic.html">TensorFlow 基礎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/basic/models.html">TensorFlow 模型建立與訓練</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/basic/tools.html">TensorFlow常用模組</a></li>
</ul>
<p class="caption"><span class="caption-text">部署</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/deployment/export.html">TensorFlow模型匯出</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/deployment/serving.html">TensorFlow Serving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/deployment/lite.html">TensorFlow Lite（Jinpeng）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/deployment/javascript.html">TensorFlow in JavaScript（Huan）</a></li>
</ul>
<p class="caption"><span class="caption-text">大規模訓練與加速</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/distributed.html">TensorFlow分布式訓練</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/tpu.html">使用TPU訓練TensorFlow模型（Huan）</a></li>
</ul>
<p class="caption"><span class="caption-text">擴展</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/tfhub.html">TensorFlow Hub 模型複用（Jinpeng）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/tfds.html">TensorFlow Datasets 資料集載入</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/swift.html">Swift for TensorFlow (S4TF) (Huan）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/quantum.html">TensorFlow Quantum: 混合量子-經典機器學習 *</a></li>
</ul>
<p class="caption"><span class="caption-text">附錄</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/rl.html">強化學習簡介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/docker.html">使用Docker部署TensorFlow環境</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/cloud.html">在雲端使用TensorFlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/jupyterlab.html">部署自己的互動式 Python 開發環境 JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/recommended_books.html">參考資料與推薦閱讀</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zh_hant/appendix/terms.html">專有名詞中英對照表</a></li>
</ul>
<p class="caption"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">TensorFlow Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Basic</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and Environment Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-steps-for-installation">General steps for installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guide-for-tensorflow-gpu-version-installation">Guide for TensorFlow GPU version installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preperations-for-gpu-hardwares">Preperations for GPU hardwares</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-of-nvidia-drivers">Installation of NVIDIA drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-of-cuda-toolkit-and-cudnn">Installation of CUDA Toolkit and cuDNN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#your-first-program">Your first program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ide-configuration">IDE configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-hardware-configuration-for-tensorflow">The hardware configuration for TensorFlow *</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">TensorFlow Basic</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Model Construction and Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Common Modules in TensorFlow</a></li>
</ul>
<p class="caption"><span class="caption-text">Deployment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deployment/export.html">TensorFlow Model Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment/serving.html">TensorFlow Serving</a></li>
</ul>
<p class="caption"><span class="caption-text">Large-scale Training</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/distributed.html">Distributed training with TensorFlow</a></li>
</ul>
<p class="caption"><span class="caption-text">Extensions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/tfds.html">TensorFlow Datasets: Ready-to-use Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/quantum.html">TensorFlow Quantum: Hybrid Quantum-classical Machine Learning *</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">简单粗暴 TensorFlow 2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Installation and Environment Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/en/basic/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-and-environment-configuration">
<h1>Installation and Environment Configuration<a class="headerlink" href="#installation-and-environment-configuration" title="永久链接至标题">¶</a></h1>
<p>TensorFlow supports multiple programming languages such as Python, Java, Go, and C; as well as multiple operating systems such as Windows, OSX, and Linux. However, the mainstream of TensorFlow support is on Python. Here we mainly discuss the installiation of TensorFlow with Python 3.7.</p>
<div class="admonition-hint admonition">
<p class="admonition-title">Hint</p>
<p>This chapter describes how to install TensorFlow 2 directly on normal PCs or servers. Please refer to the appendix <a class="reference internal" href="../appendix/docker.html"><span class="doc">Deploy TensorFlow from Docker</span></a> and <a class="reference internal" href="../appendix/cloud.html"><span class="doc">Use TensorFlow on cloud</span></a> for deploying TensorFlow in Docker, on cloud or using TensorFlow on online platforms. Software installation methods are usually time-sensitive, and the update date of this section is June 2020. For the latest installation steps of TensorFlow please refer to the instructions on the official website (<a class="reference external" href="https://tensorflow.org/install">https://tensorflow.org/install</a>).</p>
</div>
<div class="section" id="general-steps-for-installation">
<h2>General steps for installation<a class="headerlink" href="#general-steps-for-installation" title="永久链接至标题">¶</a></h2>
<ol class="arabic simple">
<li><p>Install Python environment. It is suggested to install  <a class="reference external" href="https://www.anaconda.com/">Anaconda</a> with Python 3.7 x64 version. Anaconda is a open-source Python distribution providing a full environment for scientific computation, including common scientific computation libraries like NumPy and SciPy. Of course, you can also choose your own favourite Python environment. The installation package of Anaconda can be obtained <a class="reference external" href="https://www.anaconda.com/products/individual">here</a>.</p></li>
<li><p>Use Anaconda’s conda package manager to create a Conda virtual environment, activate it and run the following commands:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="n">tf2</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.7</span>     <span class="c1"># &quot;tf2&quot; is the name of the Conda virtual environment that you create</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">tf2</span>                     <span class="c1"># activate the created &quot;tf2&quot; virtual environment</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Use pip (a Python package manager) to install TensorFlow. run the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">tensorflow</span>
</pre></div>
</div>
<p>Wait for a moment then you are all set.</p>
<div class="admonition-tip admonition">
<p class="admonition-title">Tip</p>
<ol class="arabic simple">
<li><p>You can also use <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">tensorflow</span></code> to install TensorFlow. However, the conda source version is often updated in a less frequency, thus making it harder to acquire the latest version of TensorFlow;</p></li>
<li><p>Starting with TensorFlow 2.1, the pip package <code class="docutils literal notranslate"><span class="pre">tensorflow</span></code> also includes GPU support, eliminating the need to install the GPU version through a specific pip package <code class="docutils literal notranslate"><span class="pre">tensorflow-gpu</span></code>. If you are sensitive to the size of the pip package, you can use the <code class="docutils literal notranslate"><span class="pre">tensorflow-cpu</span></code> package to install the TensorFlow version that only supports CPU.</p></li>
<li><p>If you use Windows, You need to enter Anaconda command line environment by clicking “Anaconda Prompt” in the start menu;</p></li>
<li><p>If the limit on disk space is strict (like on a server), you can install <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a> instead, which only includes Python and Conda while the installation of other packages is at your discretion. You can obtain Miniconda installation package <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">here</a>.</p></li>
<li><p>If you encountered “Could not find a version that satisfies the requirement tensorflow” error when installing TensorFlow with pip, it is very likely that you are using a 32-bit (x86) Python environment. Please change to 64-bit Python instead. You can check whether your Python version is 32-bit (e.g. <code class="docutils literal notranslate"><span class="pre">[MSC</span> <span class="pre">v.XXXX</span> <span class="pre">32</span> <span class="pre">bit</span> <span class="pre">(Intel)]</span></code>) or 64-bit (e.g. <code class="docutils literal notranslate"><span class="pre">[MSC</span> <span class="pre">v.XXXX</span> <span class="pre">64</span> <span class="pre">bit</span> <span class="pre">(AMD64)]</span></code>) by typing <code class="docutils literal notranslate"><span class="pre">python</span></code> in terminal to enter the Python interactive interface and checking the prompt information when entering the interface.</p></li>
</ol>
</div>
<div class="admonition-pip-and-conda-package-manager admonition">
<p class="admonition-title">pip and conda package manager</p>
<p>Pip is the most widely used Python package manager that can help us obtain the latest Python packages and manage them. Common commands are listed below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>              <span class="c1"># install a package named [package-name]</span>
<span class="n">pip</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span><span class="o">==</span><span class="n">X</span><span class="o">.</span><span class="n">X</span>         <span class="c1"># install a package named [package-name] with designated version of X.X</span>
<span class="n">pip</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span> <span class="o">--</span><span class="n">proxy</span><span class="o">=</span><span class="n">ip</span><span class="p">:</span><span class="n">port</span>         <span class="c1"># use proxy server to install package</span>
<span class="n">pip</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span> <span class="o">--</span><span class="n">upgrade</span>    <span class="c1"># update a package named [package-name]</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>            <span class="c1"># uninstall a package named [package-name]</span>
<span class="n">pip</span> <span class="nb">list</span>                                <span class="c1"># list all installed packages under the current environment</span>
</pre></div>
</div>
<p>Conda is Anaconda’s package manager that enable us to install various kinds of packages under conda environment with ease. Conda possesses better versality compared to pip (not only installing Python packages, but also others like CUDA Toolkit and cuDNN), but with less update frequency. Common commands are listed below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>        <span class="c1"># install a package named [package-name]</span>
<span class="n">conda</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">X</span>    <span class="c1"># install a package named [package-name] with designated version of X.X</span>
<span class="n">conda</span> <span class="n">update</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>         <span class="c1"># update a package named [package-name]</span>
<span class="n">conda</span> <span class="n">remove</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>         <span class="c1"># delete a package named [package-name]</span>
<span class="n">conda</span> <span class="nb">list</span>                          <span class="c1"># uninstall a package named [package-name]</span>
<span class="n">conda</span> <span class="n">search</span> <span class="p">[</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>         <span class="c1"># list all available versions of a package named [package-name] from conda source</span>
</pre></div>
</div>
</div>
<div class="admonition-conda-virtual-environment admonition">
<p class="admonition-title">Conda virtual environment</p>
<p>When developing with Python, we often wish to allocate each application an independent Python environment (like when app 1 needs TensorFlow 1.X and app 2 needs TensorFlow 2.0). The conda virtual environment can provide a set of “isolated” Python environment for an application.  Common commands are listed below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="p">[</span><span class="n">env</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>      <span class="c1"># create a conda virtual environment named [env-name]</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="p">[</span><span class="n">env</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>           <span class="c1"># enter the conda virtual environment named [env-name]</span>
<span class="n">conda</span> <span class="n">deactivate</span>                    <span class="c1"># exit the current conda virtual envrionment</span>
<span class="n">conda</span> <span class="n">env</span> <span class="n">remove</span> <span class="o">--</span><span class="n">name</span> <span class="p">[</span><span class="n">env</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>  <span class="c1"># remove the conda virtual environment named [env-name]</span>
<span class="n">conda</span> <span class="n">env</span> <span class="nb">list</span>                      <span class="c1"># list all conda virtual environments</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="guide-for-tensorflow-gpu-version-installation">
<span id="gpu-tensorflow"></span><h2>Guide for TensorFlow GPU version installation<a class="headerlink" href="#guide-for-tensorflow-gpu-version-installation" title="永久链接至标题">¶</a></h2>
<p>The GPU version of TensorFlow is able to utilize the powerful computing acceleration of NVIDIA GPU, making TensorFlow run more efficiently, especially multiplying the speed of training models.</p>
<p>Before installing TensorFlow GPU version, you need a not ratherly old NVIDIA graphics card, a properly installed driver, CUDA Toolkit and cuDNN.</p>
<div class="section" id="preperations-for-gpu-hardwares">
<h3>Preperations for GPU hardwares<a class="headerlink" href="#preperations-for-gpu-hardwares" title="永久链接至标题">¶</a></h3>
<p>TensorFlow provides complete support to NVIDIA graphics card. The CUDA Compute Capability of your NVIDIA graphics card must be at least 3.5. You can check your current card’s CUDA Compute Capability on <a class="reference external" href="https://developer.nvidia.com/cuda-gpus/">NVIDIA official site</a>. Now AMD graphics cards also start to provide support to TensorFlow. You can view <a class="reference external" href="https://medium.com/tensorflow/amd-rocm-gpu-support-for-tensorflow-33c78cc6a6cf">this blog article</a> for details.</p>
</div>
<div class="section" id="installation-of-nvidia-drivers">
<h3>Installation of NVIDIA drivers<a class="headerlink" href="#installation-of-nvidia-drivers" title="永久链接至标题">¶</a></h3>
<p><strong>Windows</strong></p>
<p>If your Windows system contain a NVIDIA graphics card, the NVIDIA driver is often installed automatically. If not, visit <a class="reference external" href="https://www.nvidia.com/Download/index.aspx?lang=en-us">NVIDIA official site</a>, download and install the latest driver.</p>
<p><strong>Linux</strong></p>
<p>If you use a Linux server version, samely visit <a class="reference external" href="https://www.nvidia.com/Download/index.aspx?lang=en-us">NVIDIA oficial site</a> to download drivers (<code class="docutils literal notranslate"><span class="pre">.run</span></code> file), then use <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">bash</span> <span class="pre">DRIVER_FILE_NAME.run</span></code> command to install the driver. Before installation, you may need to use <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">build-essential</span></code> to install a proper compiling environment.</p>
<p>If you use a Linux desktop version with GUI, some extra configuration of NVIDIA graphics card driver is required, otherwise there may occur errors such as being unable to login. If you need to install an NVIDIA driver manually, remember to conduct the following steps before installation (take Ubuntu as an example):</p>
<ul class="simple">
<li><p>Disable the system’s own open-source graphics card driver “Nouveau” (add a line <code class="docutils literal notranslate"><span class="pre">blacklist</span> <span class="pre">nouveau</span></code> in <code class="docutils literal notranslate"><span class="pre">/etc/modprobe.d/blacklist.conf</span></code> then run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">update-initramfs</span> <span class="pre">-u</span></code> to update the kernel and then reboot);</p></li>
<li><p>Disable “Secure Boot” on the motherboard;</p></li>
<li><p>Disable desktop environment (e.g. <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">lightdm</span> <span class="pre">stop</span></code>);</p></li>
<li><p>Remove all existing NVIDIA drivers (e.g. <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">purge</span> <span class="pre">nvidia*</span></code>).</p></li>
</ul>
<div class="admonition-tip admonition">
<p class="admonition-title">Tip</p>
<p>For desktop Ubuntu system, there is a rather easy way to install NVIDIA driver: clicking “Software &amp; Updates” in System Setting, then ticking on “Using NVIDIA binary driver” checkbox and clicking “Apply Changes” in the right-down corner in “Additional Drivers”. However, this may lead to a installation of a ratherly old version of NVIDIA driver.</p>
</div>
<p>After finishing installation of the NVIDIA driver, you can run <code class="docutils literal notranslate"><span class="pre">nvidia-smi</span></code> in terminal to check if it is successfully installed. If succeed, it will print out information of GPUs and the currently installed NVIDIA driver, with the following forms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nvidia-smi
Mon Jun 10 23:19:54 2019
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 419.35       Driver Version: 419.35       CUDA Version: 10.1     |
|-------------------------------+----------------------+----------------------+
| GPU  Name            TCC/WDDM | Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GTX 106... WDDM  | 00000000:01:00.0  On |                  N/A |
| 27%   51C    P8    13W / 180W |   1516MiB /  6144MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+

+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
|    0       572    C+G   Insufficient Permissions                   N/A      |
+-----------------------------------------------------------------------------+
</pre></div>
</div>
<div class="admonition-hint admonition">
<p class="admonition-title">Hint</p>
<p>The <code class="docutils literal notranslate"><span class="pre">nvidia-smi</span></code> command can view the existing GPUs on the machine and their usage. On Windows, you can add <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\NVIDIA</span> <span class="pre">Corporation\NVSMI</span></code> to Path environment variable so that you can run the command directly. You can also check graphics card information under the “performance” label of the task manager on Windows 10.</p>
</div>
<p>For detailed instructions of GPU environment configuration, you can refer to <a class="reference external" href="https://www.linkedin.com/pulse/installing-nvidia-cuda-80-ubuntu-1604-linux-gpu-new-victor/">this article</a>.</p>
</div>
<div class="section" id="installation-of-cuda-toolkit-and-cudnn">
<h3>Installation of CUDA Toolkit and cuDNN<a class="headerlink" href="#installation-of-cuda-toolkit-and-cudnn" title="永久链接至标题">¶</a></h3>
<p>In the Anaconda environment, it is recommended to use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">cudatoolkit</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">X</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">cudnn</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">X</span>
</pre></div>
</div>
<p>to install CUDA Toolkit and cuDNN, where X.X and X.X.X are respectively the version of CUDA Toolkit and cuDNN that be installed. Before installation, you can use <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">search</span> <span class="pre">cudatoolkit</span></code> and <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">search</span> <span class="pre">cudnn</span></code> to search for available version number from the conda source. For example, for TensorFlow 2.1, you can use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">cudatoolkit</span><span class="o">=</span><span class="mf">10.1</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">cudnn</span><span class="o">=</span><span class="mf">7.6</span><span class="o">.</span><span class="mi">5</span>
</pre></div>
</div>
<p>Of course you can also follow <a class="reference external" href="https://www.tensorflow.org/install/gpu">the instructions from TensorFlow official site</a> to download and install CUDA Toolkit and cuDNN manually. But this may be relatively complicated.</p>
</div>
</div>
<div class="section" id="your-first-program">
<h2>Your first program<a class="headerlink" href="#your-first-program" title="永久链接至标题">¶</a></h2>
<p>After installation, we can write a simple program to verify it.</p>
<p>Input <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">tensorflow</span></code> in terminal to activate the previously created conda virtual environment with TensorFlow installed, then input <code class="docutils literal notranslate"><span class="pre">python</span></code> to enter the Python environment. Run the following codes line by line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]])</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
<p>If it finally outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span>
<span class="p">[[</span><span class="mi">19</span> <span class="mi">22</span><span class="p">]</span>
<span class="p">[</span><span class="mi">43</span> <span class="mi">50</span><span class="p">]],</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
</pre></div>
</div>
<p>Then it means that TensorFlow is installed successfully. There may be some TensorFlow prompts when running, which is normal.</p>
<div class="admonition-some-possible-error-messages-and-solutions-when-importing-tensorflow admonition">
<p class="admonition-title">Some possible error messages and solutions when importing TensorFlow</p>
<p>If you have TensorFlow 2.1 installed on Windows, you may experience a <a class="reference external" href="https://github.com/tensorflow/tensorflow/issues/35749">DLL loading error when importing TensorFlow</a>. You can solve it by installing <a class="reference external" href="https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads">Microsoft Visual C++ Redistributable for Visual Studio 2015, 2017 and 2019</a> .</p>
<p>If your CPU is too old or entry-level (e.g., Intel’s Atom series processors), your python environment may crash directly when importing TensorFlow. This is due to the lack of AVX instruction set. The AVX instruction set is added by default in the official version of TensorFlow in version 1.6 and later. If your CPU does not support the AVX instruction set, it will report an error (you can use CPU-Z on Windows or <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/cpuinfo</span></code> on Linux to see whether your CPU support AVX). In this case, it is recommended that you use a community version of your own hardware and software environment, such as <a class="reference external" href="https://github.com/yaroslavvb/tensorflow-community-wheels">yaroslavvb/tensorflow-community-wheels</a> on GitHub. As of June 2020, <a class="reference external" href="https://github.com/yaroslavvb/tensorflow-community-wheels/issues/153">this issue</a> includes the latest version of TensorFlow compiled under Ubuntu with AVX removed. You may also consider recompiling TensorFlow under your own platform.</p>
</div>
<p>Here we use Python language. For tutorials for Python language you can refer to <a class="reference external" href="https://www.w3schools.com/python/">Python 3 tutorial on w3schools</a> or <a class="reference external" href="https://docs.python.org/3.7/tutorial/">the official tutorial</a>. This handbook assumes that the readers possess basic knowledge of the Python langauge. Do not be nervous. Python is easy to learn, and TensorFlow do not require much advance knowledge of Python.</p>
</div>
<div class="section" id="ide-configuration">
<h2>IDE configuration<a class="headerlink" href="#ide-configuration" title="永久链接至标题">¶</a></h2>
<p>For researchers and practitioners of machine learning, it is advised to use <a class="reference external" href="http://www.jetbrains.com/pycharm/">PyCharm</a> as the IDE for Python development.</p>
<p>When creating a new project, you need to indicate its Python interpreter, that is, what Python environment to use to run your project. In fact, in the installation part, every conda virtual environment you created owns its independent Python interpreter. You only need to add them. Choose “Add”, then select “Existing Environment” in the following window. After that, select “[Anaconda installation path]/envs/[the name of the conda enviroment to be added]/python.exe” (exclude “.exe” suffix on Linux) as interpreter, and finally click “OK”. If you tick on “Make available to all projects”, then all PyCharm projects can select this Python interpreter. Note that the default installation directory of Anaconda on Windows is special. It is usually <code class="docutils literal notranslate"><span class="pre">C:\Users\[user</span> <span class="pre">name]\Anaconda3\</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Users\[user</span> <span class="pre">name]\AppData\Local\Continuum\anaconda3</span></code>, where <code class="docutils literal notranslate"><span class="pre">AppData</span></code> is a hidden folder.</p>
<p>For TensorFlow development, one of the most useful feature of the PyCharm Professional version is remote debugging. When you code on a old PC with limited performance while you also possess a high-performance computer (which usually contains high-performance GPUs) that can be accessed remotely by ssh, the remote debugging feature allows you to code on your local machine but debug and run programs remotely (especially for model training). All modifications of codes and data that you make on the local machine will be automatically synchronized with the remote machine, making you feel that you are just coding on the remote machine. It is very similar to playing games with streaming service. However, remote debugging requires high stability of network connection. If you need to train models for a long time, it is advised to login and train them directly on the remote machine (on Linux, by combining <code class="docutils literal notranslate"><span class="pre">nohup</span></code> command <a class="footnote-reference brackets" href="#nohup" id="id3">1</a>, making the process run in the background, avoiding termination when existing shell). For detailed configuration steps of the remote debugging feature, please refer to <a class="reference external" href="https://www.jetbrains.com/help/pycharm/remote-debugging-with-product.html">the PyCharm documentation</a>.</p>
<div class="admonition-tip admonition">
<p class="admonition-title">Tip</p>
<p>If you are a student with a mail address ended with .edu, you can apply for a free PyCharm Professional version education license <a class="reference external" href="http://www.jetbrains.com/student/">here</a>.</p>
</div>
<p>For amateurs and beginners of TensorFlow and deep learning, <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a> or some online interactive Python environment (like the free <a class="reference external" href="https://colab.research.google.com/">Google Colab</a>) are also good choices. For the usage of Colab, please refer to <a class="reference internal" href="../appendix/cloud.html#en-colab"><span class="std std-ref">appendix</span></a>.</p>
<div class="admonition-warning admonition">
<p class="admonition-title">Warning</p>
<p>If you are using an older version of PyCharm, you may experience a loss of code auto-completion feature when using TensorFlow 2. Upgrading to the new version of PyCharm (2019.3 and later) will resolve this issue.</p>
</div>
<dl class="footnote brackets">
<dt class="label" id="nohup"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>Please refer to <a class="reference external" href="https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/">https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/</a> for details of the <code class="docutils literal notranslate"><span class="pre">nohup</span></code> command.</p>
</dd>
</dl>
</div>
<div class="section" id="the-hardware-configuration-for-tensorflow">
<h2>The hardware configuration for TensorFlow *<a class="headerlink" href="#the-hardware-configuration-for-tensorflow" title="永久链接至标题">¶</a></h2>
<div class="admonition-hint admonition">
<p class="admonition-title">Hint</p>
<p>TensorFlow does not require much for hardwares for beginners. Meanwhile, with <a class="reference external" href="https://colab.research.google.com/">free</a> or <a class="reference external" href="https://cloud.google.com/">flexible</a> online computing resources, you can learn TensorFlow easily just with a computer connected to the internet!</p>
</div>
<p>In the stereotype of the most, TensorFlow and other deep learning frameworks “costs” hardwares greatly, so that the first thing for some people when starting with TensorFlow is to upgrade the computer’s hardware. However, the required hardware for TensorFlow is largely based on the task and usage scenarios:</p>
<ul class="simple">
<li><p>For TensorFlow beginners, you can learn and master TensorFlow well without upgrading your hardwares. Most of the examples in this handbook are suitable for almost all popular PC (even without a GPU) without adding any other device. For some examples in this handbook that requires more computation (e.g. <a class="reference internal" href="tools.html#en-cats-vs-dogs"><span class="std std-ref">train CNN image classification on cats_vs_dogs dataset</span></a>), a common NVIDIA GPU may help greatly. If your own computer is not adequate for this, you may consider using online resources (e.g. <a class="reference external" href="https://colab.research.google.com/">the free Colab service</a> ) to train models.</p></li>
<li><p>For individuals or developers that particapte data science competitions (like Kaggle) or train models locally, a high-performance NVIDIA GPU is often necessary. The number of CUDA cores and the size of the graphics memory are two key factors of the GPU performance in machine learning, while the former determines the training speedm and the latter the size of the model and the maximum batch size, which are particularly sensitive in large-scale training.</p></li>
<li><p>For edging machine learning researching (especially in computer vision and natural language processing), training with parallel mutliple GPUs are standard conditions. It is common to use 4, 8, or even more GPUs for rapid iterations of experiment results and acceleration of training large-scale models.</p></li>
</ul>
<p>For reference, I give out my own hardware configuration of the development environment when I write this handbook:</p>
<ul class="simple">
<li><p>When I designed the example programs in this handbook, except for chapters related to distributed and cloud training, I test them locally on an ordinary desktop with Intel i5 CPUs and a 16 GB DDR3 memory without GPUs. For some models with larger scale of compuation, I train them with a 180-yuan NVIDIA P106-90 mining card that was bought on Taobao;</p></li>
<li><p>I use a NVIDIA GTX 1060 (6 GB graphics memory) locally to conduct basic development and debugging for the long term of my research career.</p></li>
<li><p>The research laboratory I am in possesses a workstation with 4 NVIDIA GTX 1080 Ti paralleled (11 GB graphics memory per card) and a server with 10 NVIDIA GTX 1080 Ti paralleled (11 GB graphics memory per card) for training of edging computer vision models.</p></li>
<li><p>The company that I once worked with use a server with 8 NVIDIA Tesla V100 paralleled (32 GB graphics memory per card) for training of the edging natural langauge processing models.</p></li>
</ul>
<p>Although the hardware configurations of the research institutions and companies are deluxe, they are not as expensive as those apparatus and reagents that cost even millions of dollars in other edging scientific researching fields (e.g. biology). A deep learning server that costs from 10 to 50 thousands of dollars is able to serve several researchers for long. Thus machine learning is rather affordable for most of people.</p>
<p>For detailed configuration of a deep learning workstation, I am not going to list them due to the rapid update of the hardwares. It is recommended to follow <a class="reference external" href="https://timdettmers.com/2018/12/16/deep-learning-hardware-guide/">this guide</a> and combine with the latest market circumstances to DIY or order a workstation.</p>
<script>
    $(document).ready(function(){
        $(".rst-footer-buttons").after("<div id='discourse-comments'></div>");
        DiscourseEmbed = { discourseUrl: 'https://discuss.tf.wiki/', topicId: 353 };
        (function() {
            var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
            d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
        })();
    });
</script></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="basic.html" class="btn btn-neutral float-right" title="TensorFlow Basic" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../introduction.html" class="btn btn-neutral float-left" title="TensorFlow Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2021, Xihan Li (snowkylin)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

  <p><a href="http://www.beian.miit.gov.cn/" target="_blank">沪ICP备13038357号-18</a ></p> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40509304-12', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>